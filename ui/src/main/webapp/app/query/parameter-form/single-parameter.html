<div ng-repeat="field in ctrl.getFields()">
    <div ng-if="'textarea' === field.type">
        <md-input-container ng-if="ctrl.isRequired(field)" layout-fill>
            <label>{{ctrl.label}} {{field.label}}</label>
            <textarea required
                      type="{{field.type}}"
                      md-select-on-focus
                      ng-model="ctrl.param.parts[field.key]"></textarea>
        </md-input-container>

        <md-input-container layout-fill ng-if="!ctrl.isRequired(field)">
            <label>{{ctrl.label}} {{field.label}}</label>
            <textarea type="{{field.type}}"
                      md-select-on-focus
                      ng-model="ctrl.param.parts[field.key]"></textarea>
        </md-input-container>
    </div>
    <div ng-if="'radio' === field.type">
        <md-input-container ng-if="ctrl.isRequired(field)" layout-fill>
            <label style="position:relative">
                {{ctrl.label}} {{field.label}}
            </label>
            <md-radio-group required ng-model="ctrl.param.parts[field.key]"
                            layout="row">
                <md-radio-button ng-repeat="value in field.values"
                                 ng-value="value">{{value}}
                </md-radio-button>
            </md-radio-group>
        </md-input-container>

        <md-input-container ng-if="!ctrl.isRequired(field)" layout-fill>
            <label style="position:relative">
                {{ctrl.label}} {{field.label}}
            </label>
            <md-radio-group ng-model="ctrl.param.parts[field.key]" layout="row">
                <md-radio-button ng-repeat="value in field.values"
                                 ng-value="value">{{value}}
                </md-radio-button>
            </md-radio-group>
        </md-input-container>
    </div>
    <div ng-if="'radio' !== field.type && 'textarea' !== field.type">
        <md-input-container ng-if="ctrl.isRequired(field)" layout-fill>
            <label>{{ctrl.label}} {{field.label}}</label>
            <input required
                   type="{{field.type}}"
                   md-select-on-focus
                   ng-model="ctrl.param.parts[field.key]">
        </md-input-container>

        <md-input-container layout-fill ng-if="!ctrl.isRequired(field)">
            <label>{{ctrl.label}} {{field.label}}</label>
            <input type="{{field.type}}"
                   md-select-on-focus
                   ng-model="ctrl.param.parts[field.key]">
        </md-input-container>
    </div>
</div>
<md-tooltip md-direction="top" ng-if="ctrl.param.description">
    {{ctrl.param.description}}
</md-tooltip>
