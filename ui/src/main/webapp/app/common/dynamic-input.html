<div layout="row" layout-wrap>
    <div ng-repeat="field in ctrl.getFields()">
        <div ng-if="'textarea' === field.type">
            <md-input-container ng-if="ctrl.isRequired(field)">
                <label>{{ctrl.name}} {{field.label}}</label>
                <textarea required
                          type="{{field.type}}"
                          md-select-on-focus
                          ng-model="ctrl.param.parts[field.key]"></textarea>
            </md-input-container>

            <md-input-container layout-fill ng-if="!ctrl.isRequired(field)">
                <label>{{ctrl.name}} {{field.label}}</label>
                <textarea type="{{field.type}}"
                          md-select-on-focus
                          ng-model="ctrl.param.parts[field.key]"></textarea>
            </md-input-container>
        </div>
        <div ng-if="'checkbox' === field.type">
            <md-checkbox ng-if="ctrl.isRequired(field)" ng-model="ctrl.param.parts[field.key]" required>
                {{ctrl.name}} {{field.label}}
            </md-checkbox>
            <md-checkbox ng-if="!ctrl.isRequired(field)" ng-model="ctrl.param.parts[field.key]">
                {{ctrl.name}} {{field.label}}
            </md-checkbox>
        </div>
        <div ng-if="'checkbox' !== field.type && 'textarea' !== field.type">
            <md-input-container ng-if="ctrl.isRequired(field)">
                <label>{{ctrl.name}} {{field.label}}</label>
                <input required
                       type="{{field.type}}"
                       md-select-on-focus
                       ng-model="ctrl.param.parts[field.key]">
            </md-input-container>

            <md-input-container ng-if="!ctrl.isRequired(field)">
                <label>{{ctrl.name}} {{field.label}}</label>
                <input type="{{field.type}}"
                       md-select-on-focus
                       ng-model="ctrl.param.parts[field.key]">
            </md-input-container>
        </div>
        <md-tooltip md-direction="top" ng-if="ctrl.param.description">
            {{ctrl.param.description}}
        </md-tooltip>
    </div>
</div>
